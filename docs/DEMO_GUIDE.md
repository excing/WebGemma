# 本地模型加载功能演示指南

## 🎯 演示目标

展示如何使用新的本地模型加载功能，让用户能够直接从设备加载 Gemma 模型文件。

## 📋 准备工作

### 1. 下载测试模型
为了演示，建议下载一个较小的模型文件：

**推荐：Gemma3-1B-IT**
- 大小：约 800MB
- 下载链接：[Hugging Face](https://huggingface.co/litert-community/Gemma3-1B-IT/tree/main)
- 文件名：查找包含 "web" 的 `.task` 文件

### 2. 启动应用
```bash
npm run dev
```
访问：http://localhost:3600

## 🚀 演示步骤

### 步骤 1：打开模型设置
1. 在应用主界面，点击右上角的 **⚙️ 设置** 按钮
2. 模型选择面板将展开

### 步骤 2：选择本地加载
1. 在模型选择面板中，找到 **"从本地加载模型文件"** 按钮
2. 点击该按钮打开本地模型加载器

### 步骤 3：上传模型文件
**方法 A：文件选择器**
1. 点击 **"浏览文件"** 按钮
2. 在文件选择器中找到下载的模型文件
3. 选择文件并确认

**方法 B：拖拽上传**
1. 直接将模型文件拖拽到上传区域
2. 文件会自动被识别和验证

### 步骤 4：配置模型信息
1. 系统会自动显示文件信息：
   - 文件名
   - 文件大小
   - 模型类型（自动识别）
2. （可选）在 **"模型名称"** 输入框中设置自定义名称
3. 如果不设置，将使用文件名作为模型名称

### 步骤 5：加载模型
1. 确认信息无误后，点击 **"加载模型"** 按钮
2. 系统开始加载模型，显示进度提示
3. 加载完成后，模态框自动关闭

### 步骤 6：开始对话
1. 模型加载成功后，界面会显示当前模型状态
2. 在输入框中输入消息开始对话
3. AI 将使用刚加载的本地模型进行回复

## 🔍 演示要点

### 文件验证演示
1. **正确格式**：上传 `.task` 文件，显示成功
2. **错误格式**：尝试上传 `.txt` 文件，显示错误提示
3. **文件过大**：演示大文件的处理（如果有的话）

### 模型类型识别
1. **文本模型**：上传普通 Gemma 模型，显示为文本模型
2. **多模态模型**：上传 E2B/E4B 模型，自动识别为多模态

### 错误处理演示
1. **网络中断**：模拟加载过程中的错误
2. **文件损坏**：使用损坏的文件测试错误处理
3. **内存不足**：在低内存设备上的表现

## 📊 性能对比

### 加载方式对比
| 特性 | 预设模型 | 本地加载 |
|------|----------|----------|
| 首次设置 | 需要放置文件 | 直接选择文件 |
| 切换模型 | 需要重启应用 | 即时切换 |
| 存储占用 | 占用项目空间 | 不占用项目空间 |
| 分享便利性 | 随项目分享 | 需要单独获取 |

### 加载时间对比
- **小模型（<1GB）**：通常 30-60 秒
- **中等模型（1-3GB）**：通常 1-3 分钟
- **大模型（>3GB）**：通常 3-10 分钟

## 🎭 演示脚本

### 开场白
"今天我将演示 Gemma AI 助手的新功能 - 本地模型加载。这个功能让用户可以直接从设备加载模型文件，无需修改项目代码。"

### 功能介绍
"传统方式需要将模型文件放在项目的 static 目录中，而新功能支持从任意位置加载模型文件，提供了更大的灵活性。"

### 操作演示
"让我演示如何使用这个功能：
1. 首先点击设置按钮
2. 选择本地加载选项
3. 上传模型文件
4. 配置模型信息
5. 开始使用"

### 特性展示
"系统会自动验证文件格式、识别模型类型，并提供详细的错误提示。支持拖拽上传，用户体验非常友好。"

### 结束语
"这个功能大大简化了模型管理，用户可以轻松测试不同的模型，而无需修改项目文件。"

## 🛠️ 故障排除

### 常见问题及解决方案

**Q: 文件上传后没有反应**
A: 检查文件格式是否正确，确保是 .task、.bin 或 .tflite 格式

**Q: 加载时间过长**
A: 大文件需要较长时间，请耐心等待。可以先用小模型测试

**Q: 内存不足错误**
A: 关闭其他应用释放内存，或使用更小的模型

**Q: 模型加载失败**
A: 确认模型文件完整且兼容 MediaPipe GenAI

## 📝 演示检查清单

- [ ] 应用正常启动
- [ ] 模型文件已准备
- [ ] 网络连接稳定
- [ ] 设备内存充足
- [ ] 浏览器支持文件 API
- [ ] 演示环境整洁
- [ ] 备用方案准备

## 🎥 录制建议

### 屏幕录制设置
- 分辨率：1920x1080
- 帧率：30fps
- 音频：清晰的解说
- 时长：5-10 分钟

### 录制内容
1. 功能介绍（30 秒）
2. 操作演示（3-5 分钟）
3. 特性展示（2-3 分钟）
4. 总结（30 秒）

这个演示指南帮助用户快速了解和使用新的本地模型加载功能，提升用户体验。
